@using APS.Application.ViewModel.Usuario;
@{
    ViewBag.Title = "Página Inicial";
}
<div>
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100" src="~/images/home-slider/slide1.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/home-slider/slide2.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/images/home-slider/slide3.jpg" alt="First slide">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

@NavBar()

<div class="container pt-5">
    <section>
        <div class="row">
            <div class="col-md-12">
                <h3>Pet's perto de <span class="text-primary" id="spanCidade">Você</span>:</h3>
                <hr />
            </div>
        </div>
        <div class="row slide-horizontal">
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
        </div>
        <div class="row justify-content-center text-center">
           <div class="col-md-3">
               <button class="btn btn-outline-primary">
                   Ver Mais
               </button>
           </div>
        </div>
    </section>
    <section class="mt-5">
        <div class="row">
            <div class="col-md-12">
                <h3>Pet's que precisam de <span class="text-danger">Amor</span>:</h3>
                <hr />
            </div>
        </div>
        <div class="row slide-horizontal">
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
            @CardPet("", "", "")
        </div>
        <div class="row justify-content-center text-center">
            <div class="col-md-3">
                <button class="btn btn-outline-primary">
                    Ver Mais
                </button>
            </div>
        </div>
    </section>
</div>

@Html.Partial("_ModalLogin")
@Html.Partial("_ModalCriarPost")

@helper CardPet(string urlImagem, string Nome, string distancia)
{
    <div class="card mx-1" style="width: 17rem;">
        <img class="card-img-top" alt="Image cap [100%x180]" style="height: 180px; width: 100%; display: block;" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22286%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20286%20180%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_163cdb3278b%20text%20%7B%20fill%3Argba(255%2C255%2C255%2C.75)%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A14pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_163cdb3278b%22%3E%3Crect%20width%3D%22286%22%20height%3D%22180%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2299.125%22%20y%3D%2296.3%22%3EImage%20cap%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" data-holder-rendered="true">
        <span class="wrapper-curtida">
            <span class="fa fa-heart fa-lg fa-fw"></span>
        </span>
        <div class="card-body">
            <p class="card-text">
                <h4>
                    Belinha
                    <span class="text-muted">2km</span>
                </h4>
                Precisa de um lar
            </p>
            <span class="pull-right text-muted">
                <span class="fa fa-eye m-1"></span>
                <span class="fa fa-map m-1"></span>
                <span class="fa fa-share-alt m-1"></span>
            </span>
        </div>
    </div>
}

@section Scripts{}

@helper NavBar()
{

    <nav class="navbar sticky-top  navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">AlphaPet</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Perto de você</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Precisam de Amor</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="modal" data-target="#modalCriarPost">Criar Anuncio</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Sobre</a>
                </li>
            </ul>

            @{
                var usuarioLogado = (CadastroViewModel)Session["UsuarioLogado"];

                if (usuarioLogado == null)
                {
                    <button type="button" class="btn btn-outline-light my-2 ml-2" data-toggle="modal" data-target="#modalLogin">Fazer Login</button>
                }
                else
                {
                    <div class="dropdown">
                        <button class="btn btn-outline-light dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 200px;text-align: right;">
                            
                            @usuarioLogado.Nome

                            &nbsp;

                            <img class="img-round" src="data:image/png;base64, @usuarioLogado.ImagemPerfil.Arquivo" style="width: 50px; height: 50px">

                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                            <a class="dropdown-item" href="#">
                                <span class="fa fa-paw text-info"></span>
                                &nbsp; Criar novo Post
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item pointer" id="btnLogOff">
                                <span class="fa fa-power-off text-danger"></span>
                                &nbsp; Sair
                            </a>
                        </div>
                    </div>
                }
            }
        </div>
    </nav>

}